<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CONTRACTX — Converter</title>

  <!-- ===== STYLE ===== -->
  <style>
    :root{
      --bg:#070A0F;
      --stroke:rgba(255,255,255,.12);
      --stroke2:rgba(255,255,255,.22);
      --text:#EAF0FF;
      --muted:rgba(234,240,255,.65);
      --shadow:0 18px 50px rgba(0,0,0,.55);
      --warn:#FFD66E;
      --bad:#FF7C7C;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:var(--bg);
    }
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    h1{margin:0 0 8px}
    .panel{
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:22px;
      background:rgba(255,255,255,.05);
    }
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    input{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid var(--stroke2);
      background:#000;
      color:var(--text);
      font-size:15px;
    }
    .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media(max-width:800px){.row{grid-template-columns:1fr}}
    .btn{
      margin-top:10px;
      padding:12px 14px;
      border-radius:12px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.08);
      color:var(--text);
      font-weight:800;
      cursor:pointer;
    }
    .out{
      margin-top:14px;
      padding:14px;
      border-radius:14px;
      background:#000;
      border:1px solid var(--stroke);
    }
    .big{font-size:26px;font-weight:900}
    .note{font-size:12px;color:var(--muted);margin-top:6px}
    .warn{
      margin-top:10px;
      padding:10px;
      border-radius:10px;
      border:1px solid rgba(255,214,110,.4);
      background:rgba(255,214,110,.1);
      color:var(--warn);
      font-size:12px;
    }
  </style>
</head>

<body>
<div class="wrap">
  <section class="panel">
    <h1>CONTRACTX Converter</h1>
    <div class="note">Future → Prop Offset-Mapping (statisch, GitHub-Pages-ready)</div>

    <div class="row" style="margin-top:16px">
      <div>
        <label>Future Preis (TradingView)</label>
        <input id="future" placeholder="z. B. 49308.25">
      </div>
      <div>
        <label>Prop Preis (Mid)</label>
        <input id="prop" placeholder="z. B. 49310.50">
      </div>
    </div>

    <button class="btn" onclick="setOffset()">Offset setzen</button>
    <div class="note">Offset (Prop − Future): <b id="offset">—</b></div>

    <div class="row" style="margin-top:16px">
      <div>
        <label>Entry (Future)</label>
        <input id="entry">
      </div>
      <div>
        <label>SL (Future)</label>
        <input id="sl">
      </div>
    </div>

    <div style="margin-top:10px">
      <label>TP (Future)</label>
      <input id="tp">
    </div>

    <div class="out">
      <div>Prop Entry</div>
      <div class="big" id="pEntry">—</div>
    </div>

    <div class="row">
      <div class="out">
        <div>Prop SL</div>
        <div class="big" id="pSL">—</div>
      </div>
      <div class="out">
        <div>Prop TP</div>
        <div class="big" id="pTP">—</div>
      </div>
    </div>

    <div class="warn" id="warn" style="display:none">
      ⚠️ Offset nicht gesetzt oder Eingaben unvollständig
    </div>

  </section>
</div>

<script>
let OFFSET = null;

function n(v){
  if(!v) return NaN;
  return Number(String(v).replace(",", "."));
}

function setOffset(){
  const f = n(document.getElementById("future").value);
  const p = n(document.getElementById("prop").value);
  if(!isFinite(f) || !isFinite(p)){
    OFFSET = null;
    document.getElementById("offset").textContent = "—";
    return;
  }
  OFFSET = p - f;
  document.getElementById("offset").textContent = OFFSET.toFixed(2);
  calc();
}

function calc(){
  if(OFFSET === null){
    document.getElementById("warn").style.display="block";
    return;
  }
  document.getElementById("warn").style.display="none";

  const e = n(entry.value);
  const s = n(sl.value);
  const t = n(tp.value);

  document.getElementById("pEntry").textContent =
    isFinite(e) ? (e + OFFSET).toFixed(2) : "—";
  document.getElementById("pSL").textContent =
    isFinite(s) ? (s + OFFSET).toFixed(2) : "—";
  document.getElementById("pTP").textContent =
    isFinite(t) ? (t + OFFSET).toFixed(2) : "—";
}

["entry","sl","tp"].forEach(id=>{
  document.getElementById(id).addEventListener("input", calc);
});
</script>
</body>
</html>
