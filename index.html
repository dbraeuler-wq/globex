<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Delta – Futures ↔ Prop</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    :root{
      --bg:#f5f5f7;
      --card:#ffffff;
      --text:#111114;
      --muted:#6b6b73;
      --border:#e5e5ea;
      --radius:18px;
      --mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --sf:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0b0b0f;
        --card:#15151c;
        --text:#f5f5f7;
        --muted:#a1a1aa;
        --border:#2a2a33;
      }
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sf);
      background:var(--bg);
      color:var(--text);
      padding:18px;
    }
    .wrap{
      max-width:640px;
      margin:0 auto;
    }
    h1{
      margin:6px 0 6px;
      font-size:20px;
      letter-spacing:-0.02em;
    }
    .sub{
      margin:0 0 14px;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:0 14px 40px rgba(0,0,0,.12);
    }

    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:12px 0 6px;
    }
    input, select{
      width:100%;
      padding:12px 12px;
      font-size:16px;
      border-radius:12px;
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      outline:none;
    }
    input::placeholder{color:#9b9ba3}
    .out{
      margin-top:14px;
      border-top:1px solid var(--border);
      padding-top:14px;
    }
    .row{
      display:flex;
      justify-content:space-between;
      gap:12px;
      padding:8px 0;
    }
    .k{color:var(--muted); font-size:13px;}
    .v{font-family:var(--mono); font-weight:800;}
    .big{font-size:18px;}

    /* === NUR NEU: LOGO === */
    .logo{
      display:flex;
      justify-content:center;
      margin:0 0 14px;
    }
    .logo img{
      max-width:240px;
      width:100%;
      height:auto;
      border-radius:14px;
      border:1px solid var(--border);
    }
  </style>
</head>
<body>
  <div class="wrap">

    <!-- NUR NEU: LOGO -->
    <div class="logo">
      <img src="56307-art-file-color-nav_650x650.webp" alt="Globex Corporation">
    </div>

    <h1>YM / NQ / ES / RTY – Delta Rechner</h1>
    <p class="sub">Future + Prop eingeben → Delta wird gerechnet. Entry/SL/TP werden per Delta übertragen (auf Tick gerundet).</p>

    <div class="card">
      <label for="sym">Instrument</label>
      <select id="sym">
        <option value="YM">YM</option>
        <option value="NQ">NQ</option>
        <option value="ES">ES</option>
        <option value="RTY">RTY</option>
      </select>

      <label for="futureNow">Future Preis (aktuell)</label>
      <input id="futureNow" inputmode="decimal" placeholder="z.B. 17125.50" />

      <label for="propNow">Propfirm/CFD Preis (aktuell)</label>
      <input id="propNow" inputmode="decimal" placeholder="z.B. 17123.80" />

      <label for="futureEntry">Future Entry (geplant)</label>
      <input id="futureEntry" inputmode="decimal" placeholder="z.B. 17140.00" />

      <label for="futureSL">Future SL (geplant)</label>
      <input id="futureSL" inputmode="decimal" placeholder="z.B. 17110.00" />

      <label for="futureTP">Future TP (optional)</label>
      <input id="futureTP" inputmode="decimal" placeholder="z.B. 17210.00" />

      <div class="out">
        <div class="row"><div class="k">Delta (Prop − Future)</div><div class="v big" id="deltaOut">—</div></div>
        <div class="row"><div class="k">Prop Entry</div><div class="v" id="propEntryOut">—</div></div>
        <div class="row"><div class="k">Prop SL</div><div class="v" id="propSLOut">—</div></div>
        <div class="row"><div class="k">Prop TP</div><div class="v" id="propTPOut">—</div></div>
      </div>
    </div>
  </div>

<script>
  const SPECS = { YM:{tickSize:1.0}, NQ:{tickSize:0.25}, ES:{tickSize:0.25}, RTY:{tickSize:0.10} };
  const el = (id) => document.getElementById(id);

  function parseNum(v){
    v = String(v ?? "").trim().replace(/\s+/g,"").replace(",",".");
    if(!v) return NaN;
    const n = Number(v);
    return Number.isFinite(n) ? n : NaN;
  }
  function roundToTick(price, tickSize){
    if(!Number.isFinite(price)) return NaN;
    return Math.round(price / tickSize) * tickSize;
  }
  function fmt(price, tickSize){
    if(!Number.isFinite(price)) return "—";
    const digits = (tickSize === 1) ? 0 : (tickSize === 0.1 ? 1 : 2);
    return price.toFixed(digits);
  }

  function calc(){
    const tickSize = SPECS[el("sym").value].tickSize;

    const futureNow   = parseNum(el("futureNow").value);
    const propNow     = parseNum(el("propNow").value);
    const futureEntry = parseNum(el("futureEntry").value);
    const futureSL    = parseNum(el("futureSL").value);
    const futureTP    = parseNum(el("futureTP").value);

    const delta = (Number.isFinite(futureNow) && Number.isFinite(propNow)) ? (propNow - futureNow) : NaN;
    el("deltaOut").textContent = Number.isFinite(delta) ? delta.toFixed(4) : "—";

    const propEntry = (Number.isFinite(delta) && Number.isFinite(futureEntry)) ? roundToTick(futureEntry + delta, tickSize) : NaN;
    const propSL    = (Number.isFinite(delta) && Number.isFinite(futureSL))    ? roundToTick(futureSL + delta, tickSize) : NaN;
    const propTP    = (Number.isFinite(delta) && Number.isFinite(futureTP))    ? roundToTick(futureTP + delta, tickSize) : NaN;

    el("propEntryOut").textContent = fmt(propEntry, tickSize);
    el("propSLOut").textContent    = fmt(propSL, tickSize);
    el("propTPOut").textContent    = Number.isFinite(futureTP) ? fmt(propTP, tickSize) : "—";
  }

  ["sym","futureNow","propNow","futureEntry","futureSL","futureTP"].forEach(id=>{
    el(id).addEventListener("input", calc);
    el(id).addEventListener("change", calc);
  });

  calc();
</script>
</body>
</html>
